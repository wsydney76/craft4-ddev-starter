{# Structured Data, no need to render this in preview #}

{% if not craft.app.request.isPreview %}

    {% set schema = craft.schema %}

    {% set organization = schema.organization
        .url(siteUrl('/'))
        .location(schema.place
            .address(siteInfo.postalAddress))
        .email(siteInfo.email)
        .telephone(siteInfo.phoneNumber)
        .name(siteInfo.copyright ?? siteInfo.siteName) %}

    {% include [
        "_sections/#{entry.section.handle}/types/json-ld-#{entry.type.handle}.twig",
        "_sections/#{entry.section.handle}/json-ld.twig",
        "_partials/json-ld.twig"
    ] with {
        entry,
        organization
    } only %}
{% endif %}